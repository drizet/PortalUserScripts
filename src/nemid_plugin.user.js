// ==UserScript==
// @name        NemIdPlugin
// @include     *bwin.dk*
// @version     1.0.2
// @require     https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.js
// @grant       none
// ==/UserScript==

var nemid = "862611342";
var password = "asasas12";
var codeMapping = {
"2":"772864",
"66":"644310",
"91":"870875",
"105":"660035",
"129":"940808",
"210":"398100",
"370":"785891",
"483":"430963",
"492":"271248",
"493":"821308",
"520":"835145",
"728":"953963",
"783":"996592",
"850":"893438",
"922":"819805",
"986":"989262",
"1086":"244691",
"1151":"37875",
"1182":"291307",
"1267":"491249",
"1277":"205403",
"1305":"713438",
"1471":"476039",
"1525":"809386",
"1540":"127267",
"1720":"940879",
"1741":"628960",
"1833":"559400",
"1879":"626248",
"1885":"911928",
"1972":"176404",
"2144":"662928",
"2214":"450265",
"2246":"449976",
"2436":"400884",
"2486":"252963",
"2506":"777959",
"2523":"55596",
"2622":"919511",
"2676":"725584",
"2698":"535176",
"2782":"383220",
"2856":"238443",
"2891":"918391",
"2893":"249760",
"2898":"787371",
"2908":"411218",
"2978":"288008",
"3131":"745244",
"3181":"79211",
"3209":"871001",
"3241":"995379",
"3509":"951844",
"3532":"998598",
"3600":"497207",
"3663":"577607",
"3678":"80356",
"3835":"404745",
"3914":"352250",
"4042":"919152",
"4100":"457959",
"4101":"752254",
"4128":"659087",
"4280":"56994",
"4291":"351317",
"4471":"867756",
"4520":"737766",
"4680":"31323",
"4780":"806610",
"4847":"967258",
"4878":"124446",
"4981":"194594",
"5017":"28527",
"5150":"989729",
"5208":"481767",
"5274":"426901",
"5275":"410782",
"5659":"729553",
"5700":"933701",
"5707":"627862",
"5738":"99929",
"5739":"26223",
"5836":"321326",
"5844":"161733",
"5864":"302433",
"5883":"870802",
"5965":"684276",
"5998":"874003",
"6040":"470788",
"6059":"605585",
"6128":"949220",
"6194":"660001",
"6197":"423710",
"6241":"821619",
"6242":"138171",
"6362":"102854",
"6471":"194269",
"6499":"728525",
"6513":"220029",
"6530":"832052",
"6537":"681009",
"6556":"969209",
"6558":"454579",
"6570":"975188",
"6598":"865016",
"6609":"170738",
"6678":"120187",
"6778":"81066",
"6822":"394956",
"7030":"692771",
"7058":"367333",
"7177":"742869",
"7256":"840791",
"7448":"340435",
"7536":"974870",
"7548":"832773",
"7567":"936290",
"7580":"43228",
"7600":"878594",
"7664":"368296",
"7733":"841907",
"7773":"161969",
"7853":"29070",
"7900":"204886",
"7948":"643437",
"7965":"814616",
"7987":"698814",
"7998":"606645",
"8000":"979713",
"8061":"86704",
"8185":"893458",
"8200":"660779",
"8241":"274763",
"8471":"983142",
"8493":"552762",
"8522":"893028",
"8812":"639410",
"8848":"401618",
"8915":"557828",
"8952":"788949",
"9009":"895596",
"9096":"434135",
"9408":"174988",
"9600":"212166",
"9601":"779949",
"9888":"983837",
"9904":"405205",
"9964":"579622"
};

var containerDiv = $("<div/>", {
  style: "text-align:center"
});

var credentialsInput = $("<input/>", {
  type: "text",
  readonly: "readonly",
  style: "display:block; margin:5px auto 0; opacity:1",
  value: nemid + "/" + password
});

var otpCodeInput = $("<input/>", {
  id: "otp-code",
  type: "text",
  placeholder: "otp code",
  focus: function(){
    $(this).val("");
  },
  keyup: function(){
      var val = $("#otp-code").val();
      var code = codeMapping[val];
      $("#nemid-code").val(code);
   }
});

var nemidCodeInput =  $("<input/>", {
  id: "nemid-code",
  type: "text",
  placeholder: "nemid code",
  readonly:"readonly",
  style: "opacity:1"
});

containerDiv.append(credentialsInput);
containerDiv.append(otpCodeInput);
containerDiv.append(nemidCodeInput);

$(".nemid-container .preheader").append(containerDiv);